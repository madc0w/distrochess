<template name="editProfile">
	<div id="profile-header">{{_ "your_profile"}}</div>
	<div id="profile-data">
		<table>
			<tr>
				<th>{{_ "username"}}</th>
				<td>
					<input type="text" id="username-input" maxlength="64"/>
					<div id="save-username-button" class="button">{{_ "set_username"}}</div>
				</td>
			</tr>
			<tr>
				<th>{{_ "signup_date"}}</th>
				<td>{{dateFormat currentUser.createdAt}}</td>
			</tr>
			{{#if authService}}
				<tr>
					<th>{{_ "authentication_service"}}</th>
					<td>{{authService}}</td>
				</tr>
			{{else}}
				<tr>
					<th>{{_ "current_password"}}</th>
					<td>
						<input type="password" id="current-password-input" />
					</td>
				</tr>
				<tr>
					<th>{{_ "new_password"}}</th>
					<td>
						<input type="password" id="password1-input" maxlength="100"/>
					</td>
				</tr>
				<tr>
					<th>{{_ "repeat_password"}}</th>
					<td>
						<input type="password" id="password2-input" maxlength="4"/> 
						<div id="save-password-button" class="button">{{_ "set_password"}}</div>
					</td>
				</tr>
			{{/if}}
			<tr>
				<th>{{_ "num_games_played"}}</th>
				<td>{{currentUser.gameIds.length}}</td>
			</tr>
			<tr>
				<th>{{_ "num_moves_made"}}</th>
				<td>{{currentUser.numMoves}}</td>
			</tr>
			<tr>
				<th>{{_ "elo_rating"}}</th>
				<td>{{formatInt currentUser.rating}}</td>
			</tr>
		</table>
		
		<hr/>
		<div id="profile-header">{{_ "gdpr_compliance"}}</div>
		<div id="profile-actions">
			<div id="gdpr-message">
				{{{_ "gdpr_message"}}}
			</div>
			<div id="gdpr-buttons">
				<a class="button" href="mailto:distrochess@runbox.com?subject=Distrochess data request&body=SEND DATA%0D%0AUser ID: {{currentUser._id}}%0D%0AEmail: {{email}}">{{_ "send_data_request"}}</a>
				<a class="button" href="mailto:distrochess@runbox.com?subject=Distrochess account deletion request&body=DELETE%0D%0AUser ID: {{currentUser._id}}">{{_ "delete_account"}}</a>
			</div>
		</div>
	</div>
</template>
